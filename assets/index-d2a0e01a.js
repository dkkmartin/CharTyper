(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();async function y(t){const e=await fetch(`https://api.quotable.io/quotes/random?minLength=${t}&maxLength=${t+50}`),r=await e.json();if(e.ok)return r[0].content}class d{static removeMenu(){const e=document.querySelector(".buttons__con");e.style.display="none"}static async startTimer(){const e=document.querySelector("main"),r=document.createElement("h1");r.textContent=5,r.classList.add("countdown"),e.appendChild(r);for(let s=5;s>=1;s--)r.textContent=s,await h(990),s===1&&r.remove()}static async startGame(){await h(5e3);const e=document.querySelector("select"),r=await y(e.value),s=document.querySelector(".app");return document.querySelector(".app__text").remove(),s.style.display="flex",r}}function h(t){return new Promise(e=>setTimeout(e,t))}const o=document.querySelector("span"),T=document.querySelector(".play"),w=(t,e)=>t===e,v=()=>f.length===a.join("").length,f=[];let u,l=0,p,a,g,c;T.addEventListener("click",async t=>{t.preventDefault(),d.removeMenu(),d.startTimer(),g=await d.startGame(),x(),c=new S,C(),L()});class S{constructor(){this.isRunning=!1,this.startTime=0,this.overallTime=0}_getTimeElapsedSinceLastStart(){return this.startTime?Date.now()-this.startTime:0}start(){if(this.isRunning)return console.error("Timer is already running");this.isRunning=!0,this.startTime=Date.now()}stop(){if(!this.isRunning)return console.error("Timer is already stopped");this.isRunning=!1,this.overallTime=this.overallTime+this._getTimeElapsedSinceLastStart()}reset(){if(this.overallTime=0,this.isRunning){this.startTime=Date.now();return}this.startTime=0}getTime(){return this.startTime?this.isRunning?this.overallTime+this._getTimeElapsedSinceLastStart():this.overallTime:0}}function x(){a=Array.from(g),u=a[l],E()}function L(){document.addEventListener("keydown",t=>{w(t.key,u)&&(q(),l++,u=a[l]),v()&&M()})}function b(t){return`<span class="currentChar">${t.join("")}</span>`}function q(){f.push(u),o.textContent="";const t=a.join("").slice(l+1),e=b(f);o.innerHTML=`${e}`+t}function E(){o.textContent=a.join("")}function M(){c.stop(),clearInterval(p);const t=Math.round(c.getTime()/1e3),e=Math.floor(a.join(" ").length/5/(t/60));document.getElementById("time").innerText=`WPM: ${e}`,e<=60&&(o.innerText="Thats really bad..."),e>=61&&e<=89&&(o.innerText="You can do better..."),e>=90&&e<=110&&(o.innerText="Alright..."),e>=111&&e<=129&&(o.innerText="Thats really good!"),e>=130&&(o.innerText="wow!!!")}function C(){c.start(),p=setInterval(()=>{const t=Math.round(c.getTime()/1e3);document.getElementById("time").innerText=t},100)}
