(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();async function v(t){const e=await fetch(`https://api.quotable.io/quotes/random?minLength=${t}&maxLength=${t+50}`),r=await e.json();if(e.ok)return r[0].content}class f{static removeMenu(){const e=document.querySelector(".buttons__con");e.style.display="none"}static async startTimer(){const e=document.querySelector("main"),r=document.createElement("h1");r.textContent=5,r.classList.add("countdown"),e.appendChild(r);for(let i=5;i>=1;i--)r.textContent=i,await h(990),i===1&&r.remove()}static async startGame(){await h(5e3);const e=document.querySelector("select"),r=await v(e.value),i=document.querySelector(".app");return document.querySelector(".app__text").remove(),i.style.display="flex",r}}function h(t){return new Promise(e=>setTimeout(e,t))}const s=document.querySelector("span"),x=document.querySelector(".play"),S=(t,e)=>t===e,L=()=>p.length===c.join("").length,p=[];let u,m=0,y,c,g,l;x.addEventListener("click",async t=>{t.preventDefault(),f.removeMenu(),f.startTimer(),g=await f.startGame(),q(),l=new E,D(),b()});class E{constructor(){this.isRunning=!1,this.startTime=0,this.overallTime=0}_getTimeElapsedSinceLastStart(){return this.startTime?Date.now()-this.startTime:0}start(){if(this.isRunning)return console.error("Timer is already running");this.isRunning=!0,this.startTime=Date.now()}stop(){if(!this.isRunning)return console.error("Timer is already stopped");this.isRunning=!1,this.overallTime=this.overallTime+this._getTimeElapsedSinceLastStart()}reset(){if(this.overallTime=0,this.isRunning){this.startTime=Date.now();return}this.startTime=0}getTime(){return this.startTime?this.isRunning?this.overallTime+this._getTimeElapsedSinceLastStart():this.overallTime:0}}function q(){c=Array.from(g),u=c[m],k()}function b(){document.addEventListener("keydown",t=>{S(t.key,u)&&(M(),m++,u=c[m]),L()&&_()})}function C(t){return`<span class="currentChar">${t.join("")}</span>`}function M(){p.push(u),s.textContent="";const t=c.join("").slice(m+1),e=C(p);s.innerHTML=`${e}`+t}function k(){s.textContent=c.join("")}function _(){l.stop(),clearInterval(y);const t=Math.round(l.getTime()/1e3),e=Math.floor(c.join(" ").length/5/(t/60));document.getElementById("time").innerText=`WPM: ${e}`,e<=60&&(s.innerText="Thats really bad..."),e>=61&&e<=89&&(s.innerText="You can do better..."),e>=90&&e<=110&&(s.innerText="Alright..."),e>=111&&e<=129&&(s.innerText="Thats really good!"),e>=130&&(s.innerText="wow!!!")}function D(){l.start(),y=setInterval(()=>{const t=Math.round(l.getTime()/1e3);document.getElementById("time").innerText=t},100)}const I=document.querySelector(".app__text"),a=document.querySelector(".mouse__mask");let T;function P(){for(let t=0;t<399;t++){const e=document.createElement("p");e.textContent=0,I.appendChild(e)}T=document.querySelectorAll("p")}function R(){return"abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)]}function w(){T.forEach(t=>{t.textContent=R()})}document.addEventListener("mousemove",t=>{a.style.top=t.pageY-2500+"px",a.style.left=t.pageX-2500+"px",a.style.animation="initial"});document.addEventListener("mouseout",()=>{a.style.top="calc(50% - 2500px)",a.style.left="calc(50% - 2500px)",a.style.animation="maskSpin 10s infinite linear forwards",a.style.animationDelay="5s"});P();w();setInterval(()=>{w()},1e3);
